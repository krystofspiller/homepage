---
interface YearRangeProps {
  from: number
  to?: number
  note?: string
}

const { from, to, note } = Astro.props

const getRange = (from: number, to?: number | null): string => {
  const currentYear = new Date().getFullYear()
  if (to && from > to) {
    to = null
  }

  if (!to && from !== currentYear) {
    to = currentYear
  }

  if (!to) {
    return `${from}-Now`
  }

  return `${from}-${to}`
}

export type { YearRangeProps }
---

<span class="text-sm text-zinc-400"
  >{getRange(from, to)}{note && <span class="text-xs"> ({note})</span>}</span
>
