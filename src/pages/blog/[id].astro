---
import BlogPostLayout from "@components/BlogPostLayout.astro"
import { posts, postsVersions } from "src/data/common"

export async function getStaticPaths() {
  const basePosts = posts.map((post) => {
    return {
      params: { id: post.id },
      props: { post },
    }
  })

  const basePostsVersions = postsVersions.map((post) => {
    return {
      params: { id: post.id },
      props: { post },
    }
  })

  return [...basePosts, ...basePostsVersions]
}

const { post } = Astro.props
---

<BlogPostLayout post={post} includeVersions />
